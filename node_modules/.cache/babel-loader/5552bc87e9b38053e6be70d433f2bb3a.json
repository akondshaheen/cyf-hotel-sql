{"ast":null,"code":"var _jsxFileName = \"/home/akondshaheen/Desktop/Programming2/Task1/Week 14/ReactHotel/cyf-hotel-react/src/Bookings.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Search from \"./Compnents/Search/Search.js\";\nimport SearchResults from \"./Compnents/Search/SearchResults\"; // import FakeBookings from \"./data/fakeBookings.json\";\n\nconst Bookings = () => {\n  const [bookings, setBookings] = useState([]);\n  const Url = \"https://cyf-react.glitch.me/delayed\";\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState([]);\n  useEffect(() => {\n    fetch(Url).then(results => results.json()).then(data => {\n      setBookings(data);\n      setLoading(false);\n    }).catch(error => setError(error));\n  }, []);\n\n  const search = searchVal => {\n    console.log(bookings);\n    setBookings(bookings.filter(event => event.firstName.toLowerCase().includes(searchVal.toLowerCase()) || event.surname.toLowerCase().includes(searchVal.toLowerCase())));\n  };\n\n  if (error.length != 0) {\n    return /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 12\n      }\n    }, \"500 HTTP Error\");\n  } else if (loading) {\n    return /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Search, {\n      search: search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(SearchResults, {\n      results: bookings,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    })));\n  } // return (\n  //   <div>\n  //     {loading ? (\n  //       <span>Loading...</span>\n  //     ) : (\n  //       <div className=\"App-content\">\n  //         <div className=\"container\">\n  //           <Search search={search} />\n  //           <SearchResults results={bookings} />\n  //         </div>\n  //       </div>\n  //     )}\n  //   </div>\n  // );\n\n};\n\nexport default Bookings;","map":{"version":3,"sources":["/home/akondshaheen/Desktop/Programming2/Task1/Week 14/ReactHotel/cyf-hotel-react/src/Bookings.js"],"names":["React","useState","useEffect","Search","SearchResults","Bookings","bookings","setBookings","Url","loading","setLoading","error","setError","fetch","then","results","json","data","catch","search","searchVal","console","log","filter","event","firstName","toLowerCase","includes","surname","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,aAAP,MAA0B,kCAA1B,C,CACA;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AACrB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAMO,GAAG,GAAG,qCAAZ;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,KAAK,CAACL,GAAD,CAAL,CACGM,IADH,CACQC,OAAO,IAAIA,OAAO,CAACC,IAAR,EADnB,EAEGF,IAFH,CAEQG,IAAI,IAAI;AACZV,MAAAA,WAAW,CAACU,IAAD,CAAX;AACAP,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KALH,EAMGQ,KANH,CAMSP,KAAK,IAAIC,QAAQ,CAACD,KAAD,CAN1B;AAOD,GARQ,EAQN,EARM,CAAT;;AAUA,QAAMQ,MAAM,GAAGC,SAAS,IAAI;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAYhB,QAAZ;AACAC,IAAAA,WAAW,CACTD,QAAQ,CAACiB,MAAT,CACEC,KAAK,IACHA,KAAK,CAACC,SAAN,CAAgBC,WAAhB,GAA8BC,QAA9B,CAAuCP,SAAS,CAACM,WAAV,EAAvC,KACAF,KAAK,CAACI,OAAN,CAAcF,WAAd,GAA4BC,QAA5B,CAAqCP,SAAS,CAACM,WAAV,EAArC,CAHJ,CADS,CAAX;AAOD,GATD;;AAWA,MAAIf,KAAK,CAACkB,MAAN,IAAgB,CAApB,EAAuB;AACrB,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAP;AACD,GAFD,MAEO,IAAIpB,OAAJ,EAAa;AAClB,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AACD,GAFM,MAEA;AACL,wBACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,MAAM,EAAEU,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,aAAD;AAAe,MAAA,OAAO,EAAEb,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,CADF;AAQD,GAxCoB,CA0CrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACD,CAxDD;;AA0DA,eAAeD,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Search from \"./Compnents/Search/Search.js\";\nimport SearchResults from \"./Compnents/Search/SearchResults\";\n// import FakeBookings from \"./data/fakeBookings.json\";\n\nconst Bookings = () => {\n  const [bookings, setBookings] = useState([]);\n  const Url = \"https://cyf-react.glitch.me/delayed\";\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState([]);\n\n  useEffect(() => {\n    fetch(Url)\n      .then(results => results.json())\n      .then(data => {\n        setBookings(data);\n        setLoading(false);\n      })\n      .catch(error => setError(error));\n  }, []);\n\n  const search = searchVal => {\n    console.log(bookings);\n    setBookings(\n      bookings.filter(\n        event =>\n          event.firstName.toLowerCase().includes(searchVal.toLowerCase()) ||\n          event.surname.toLowerCase().includes(searchVal.toLowerCase())\n      )\n    );\n  };\n\n  if (error.length != 0) {\n    return <h1>500 HTTP Error</h1>;\n  } else if (loading) {\n    return <h1>Loading...</h1>;\n  } else {\n    return (\n      <div className=\"App-content\">\n        <div className=\"container\">\n          <Search search={search} />\n          <SearchResults results={bookings} />\n        </div>\n      </div>\n    );\n  }\n\n  // return (\n  //   <div>\n  //     {loading ? (\n  //       <span>Loading...</span>\n  //     ) : (\n  //       <div className=\"App-content\">\n  //         <div className=\"container\">\n  //           <Search search={search} />\n  //           <SearchResults results={bookings} />\n  //         </div>\n  //       </div>\n  //     )}\n  //   </div>\n  // );\n};\n\nexport default Bookings;\n"]},"metadata":{},"sourceType":"module"}