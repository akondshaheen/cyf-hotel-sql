{"ast":null,"code":"var _jsxFileName = \"/home/akondshaheen/Desktop/Programming2/Task1/Week 14/ReactHotel/cyf-hotel-react/src/Bookings.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Search from \"./Compnents/Search/Search.js\";\nimport SearchResults from \"./Compnents/Search/SearchResults\";\nimport \"./style.css\";\nimport BookingInput from \"./Compnents/BookingInputs/BookingInput\"; // import FakeBookings from \"./data/fakeBookings.json\";\n\nconst Bookings = pros => {\n  const [bookings, setBookings] = useState([]);\n  const Url = \"https://cyf-react.glitch.me\";\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState([]);\n  useEffect(() => {\n    fetch(Url).then(results => results.json()).then(data => {\n      setBookings(data);\n      setLoading(false);\n    }).catch(error => setError(error.message));\n  }, []);\n\n  const search = searchVal => {\n    console.log(bookings);\n    setBookings(bookings.filter(event => event.firstName.toLowerCase().includes(searchVal.toLowerCase()) || event.surname.toLowerCase().includes(searchVal.toLowerCase())));\n  };\n\n  if (error.length != 0) {\n    return /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 12\n      }\n    }, error);\n  } else if (loading) {\n    return /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"loading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Search, {\n      search: search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(SearchResults, {\n      results: bookings,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(BookingInput, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }\n    })));\n  }\n};\n\nexport default Bookings;","map":{"version":3,"sources":["/home/akondshaheen/Desktop/Programming2/Task1/Week 14/ReactHotel/cyf-hotel-react/src/Bookings.js"],"names":["React","useState","useEffect","Search","SearchResults","BookingInput","Bookings","pros","bookings","setBookings","Url","loading","setLoading","error","setError","fetch","then","results","json","data","catch","message","search","searchVal","console","log","filter","event","firstName","toLowerCase","includes","surname","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAO,aAAP;AACA,OAAOC,YAAP,MAAyB,wCAAzB,C,CACA;;AAEA,MAAMC,QAAQ,GAAIC,IAAD,IAAU;AACzB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAMS,GAAG,GAAG,6BAAZ;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACY,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,EAAD,CAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,KAAK,CAACL,GAAD,CAAL,CACGM,IADH,CACSC,OAAD,IAAaA,OAAO,CAACC,IAAR,EADrB,EAEGF,IAFH,CAESG,IAAD,IAAU;AACdV,MAAAA,WAAW,CAACU,IAAD,CAAX;AACAP,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KALH,EAMGQ,KANH,CAMUP,KAAD,IAAWC,QAAQ,CAACD,KAAK,CAACQ,OAAP,CAN5B;AAOD,GARQ,EAQN,EARM,CAAT;;AAUA,QAAMC,MAAM,GAAIC,SAAD,IAAe;AAC5BC,IAAAA,OAAO,CAACC,GAAR,CAAYjB,QAAZ;AACAC,IAAAA,WAAW,CACTD,QAAQ,CAACkB,MAAT,CACGC,KAAD,IACEA,KAAK,CAACC,SAAN,CAAgBC,WAAhB,GAA8BC,QAA9B,CAAuCP,SAAS,CAACM,WAAV,EAAvC,KACAF,KAAK,CAACI,OAAN,CAAcF,WAAd,GAA4BC,QAA5B,CAAqCP,SAAS,CAACM,WAAV,EAArC,CAHJ,CADS,CAAX;AAOD,GATD;;AAWA,MAAIhB,KAAK,CAACmB,MAAN,IAAgB,CAApB,EAAuB;AACrB,wBAAO;AAAI,MAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuBnB,KAAvB,CAAP;AACD,GAFD,MAEO,IAAIF,OAAJ,EAAa;AAClB,wBAAO;AAAI,MAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AACD,GAFM,MAEA;AACL,wBACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,MAAM,EAAEW,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,aAAD;AAAe,MAAA,OAAO,EAAEd,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADF,CADF;AASD;AACF,CA1CD;;AA4CA,eAAeF,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Search from \"./Compnents/Search/Search.js\";\nimport SearchResults from \"./Compnents/Search/SearchResults\";\nimport \"./style.css\";\nimport BookingInput from \"./Compnents/BookingInputs/BookingInput\";\n// import FakeBookings from \"./data/fakeBookings.json\";\n\nconst Bookings = (pros) => {\n  const [bookings, setBookings] = useState([]);\n  const Url = \"https://cyf-react.glitch.me\";\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState([]);\n\n  useEffect(() => {\n    fetch(Url)\n      .then((results) => results.json())\n      .then((data) => {\n        setBookings(data);\n        setLoading(false);\n      })\n      .catch((error) => setError(error.message));\n  }, []);\n\n  const search = (searchVal) => {\n    console.log(bookings);\n    setBookings(\n      bookings.filter(\n        (event) =>\n          event.firstName.toLowerCase().includes(searchVal.toLowerCase()) ||\n          event.surname.toLowerCase().includes(searchVal.toLowerCase())\n      )\n    );\n  };\n\n  if (error.length != 0) {\n    return <h1 className=\"error\">{error}</h1>;\n  } else if (loading) {\n    return <h1 className=\"loading\">Loading...</h1>;\n  } else {\n    return (\n      <div className=\"App-content\">\n        <div className=\"container\">\n          <Search search={search} />\n          <SearchResults results={bookings} />\n          <BookingInput />\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default Bookings;\n"]},"metadata":{},"sourceType":"module"}